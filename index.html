<html>
   <head>
      <title>Spidey Station</title>
      <link rel="icon" type="image/x-icon" href="spidey.ico">
      <link rel="stylesheet" href="style.css">
   </head>

   <body>
      <div class = "headings">
         <h1>Web-Shooters Monitor</h1>
         <h2>Here comes our Friendly Neighborhood Spider-Man!</h2>
      </div>
      <br/>
      <div class = "mainblox">
         <div class = "statsbox">
            <h3 class = "statsbanner">Temperature Monitor (in Degrees Celcius)</h3>
            <div id = "stats"></div>
         </div>
         <img class = "video" id="video"></img>
      </div>
      
      <script>
         async function getvideo(){
            while(true){
            const result = await fetch("http://10.42.0.146/picture");
            if (result.status == 200)
            {
               const image = await result.blob();
               const url = URL.createObjectURL(image);
               document.getElementById("video").src=url;
            }
         };
      };
         async function getstats(){
            while(true){
               const response = await fetch("http://10.42.0.146/stats");
               const statsText = await response.text();
               document.getElementById("stats").textContent = statsText;
            };
         };
      getvideo();
      getstats();
      </script>
   </body>
</html>